
{% from 'plantillas/_nav.html' import nav %}
{% from 'plantillas/_footer.html' import footer %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>{% block title %} {% endblock %}</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="{{url_for('static', filename='css/bootstrap.min.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename='css/font-awesome.min.css')}}">
	<link rel="stylesheet" href="{{url_for('static', filename='css/jquery.bxslider.css')}}">
	<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/isotope.css')}}" media="screen" />
	<link rel="stylesheet" href="{{url_for('static', filename='css/animate.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename='js/fancybox/jquery.fancybox.css')}}" type="text/css" media="screen" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.4/socket.io.js" integrity="sha512-aMGMvNYu8Ue4G+fHa359jcPb1u+ytAF+P2SCb+PxrjCdO3n3ZTxJ30zuH39rimUggmTwmh2u7wvQsDTHESnmfQ==" crossorigin="anonymous"></script>

    <link href="{{url_for('static', filename='css/style.css')}}" rel="stylesheet">
    
</head>
<body>

    {{ nav(conectado)}}

    {% with messages = get_flashed_messages()%}
          {% if messages  %}
          <ul>
              <div class="alert alert-success">
                      {% for message  in messages  %}
                      <li style="list-style-type:none">{{message}}</li>
                      {% endfor %}
                  </div>
              </ul>
          {% endif %}
      {% endwith %}

    {% block  content %}
    {% endblock %}

    {{ footer() }}
    

    <script src="{{url_for('static', filename='js/jquery-2.1.1.min.js')}}"></script>
    
    <script src="{{url_for('static', filename='js/bootstrap.min.js')}}"></script>
    <script src="{{url_for('static', filename='js/wow.min.js')}}"></script>
    <script src="{{url_for('static', filename='js/fancybox/jquery.fancybox.pack.js')}}"></script>
    <script src="{{url_for('static', filename='js/jquery.easing.1.3.js')}}"></script>
    <script src="{{url_for('static', filename='js/jquery.bxslider.min.js')}}"></script>
    <script src="{{url_for('static', filename='js/functions.js')}}"></script>
    
    

    <!--script>
        var etiquetas;
        var datos;
        var direccionPeticion = window.location.href
        
        peticionVotos(etiquetas,datos);
        
        async function peticionVotos(etiquetas, datos){
             const respuesta = await fetch(direccionPeticion.replace('resultados', 'votos'))
            .then(res => res.json())
            
            var ctx = document.getElementById('myChart').getContext('2d');
            var etiquetas = respuesta.etiquetas;
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: etiquetas,
                    datasets: [{
                        label: '# de votos',
                        data: respuesta.datos,
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.2)',
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 206, 86, 0.2)',
                            'rgba(75, 192, 192, 0.2)',
                            'rgba(153, 102, 255, 0.2)',
                            'rgba(255, 159, 64, 0.2)'
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 159, 64, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                    }
                }
            });
        }
        console.log(etiquetas)

        
    </script-->
</body>
</html>
